# Moltbot Docker Configuration

# Required: Your Anthropic API key
ANTHROPIC_API_KEY=sk-ant-api03-...

# Gateway port (default: 4001)
CLAWDBOT_PORT=4001

# Gateway auth token (auto-generated if not set)
CLAWDBOT_GATEWAY_TOKEN=your-secure-token-here

# Optional: Telegram bot token from @BotFather
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Optional: Telegram user IDs allowed to DM (comma-separated, skips pairing)
# Find your ID: DM @userinfobot or @getidsbot on Telegram
TELEGRAM_ALLOWED_USERS=851120315

# ── Local LLM with Ollama (optional) ──

# Ollama server URL (use host IP, not localhost, if running on another machine)
#OLLAMA_BASE_URL=http://192.168.1.100:11434/v1

# ── GitHub Integration (optional) ──

# GitHub Personal Access Token for git operations (push, clone private repos)
# Create at: https://github.com/settings/tokens
#GITHUB_PAT=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Set to "1" to regenerate config on container restart
CLAWDBOT_REGENERATE_CONFIG=

# ── OAuth2 Proxy (optional, use with: docker-compose --profile oauth2 up) ──

# GitHub OAuth App credentials (https://github.com/settings/developers)
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# Cookie secret (generate with: openssl rand -hex 16)
OAUTH2_COOKIE_SECRET=your-cookie-secret-here

# OAuth2 proxy port (default: 4180)
OAUTH2_PROXY_PORT=4180

# Redirect URL (must match GitHub OAuth App callback URL)
OAUTH2_REDIRECT_URL=https://<VALID-DOMAIN-HERE>/oauth2/callback

# ── Access Restriction (pick one or combine) ──

# Option 1: Restrict by GitHub username (comma-separated)
GITHUB_ALLOWED_USER=<VALID-GITHUB-USERNAME>

# Option 2: Restrict by GitHub organization
#GITHUB_ALLOWED_ORG=your-org-name

# Option 3: Restrict by GitHub org + team (requires org)
#GITHUB_ALLOWED_TEAM=your-team-name

# Option 4: Restrict by email allowlist file (edit allowed-emails.txt)
# Add your GitHub email to allowed-emails.txt (one per line)
